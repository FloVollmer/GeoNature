<!-- <table>
    <tr *ngFor="let item of inputSyntheseData?.features" [ngClass]=" {'selected': mapListService.selectedRow[0]?.id_synthese == item.properties.id_synthese }">
        <td class="button" (click)="mapListService.onRowSelect(item.properties.id_synthese)">onmap</td>
        <td>{{item.properties.date_min}}</td>
        <td>{{item.properties.date_max}}</td>
        <td>{{item.properties.observers}}</td>
        <td>{{item.properties.nom_cite}}</td>
        <td>{{item.id}}</td>
        <td> {{mapListService.selectedRow[0]?.id_synthese == item.properties.id_synthese}} </td>
        <td>min : {{item.properties.count_min}} max : {{item.properties.count_max}}</td>
    </tr>
</table> -->

<!--Table-->
<ngx-datatable #table class="material striped margin-top-xs table-size expandable" [rows]="mapListService.tableData" [columns]="SYNTHESE_CONFIG.default_columns"
    [columnMode]="'force'" [loadingIndicator]="!searchService.dataLoaded" [headerHeight]="50" [footerHeight]="35" [rowHeight]="50"
    [scrollbarV]="false" [draggable]="false" [selected]="mapListService.selectedRow" [externalPaging]="false" [selectionType]="'single'"
    [count]="mapListService.tableData.length" [rowClass]="mapListService.getRowClass" (select)="mapListService.onRowSelect($event)">

    <ngx-datatable-row-detail [rowHeight]="200" #myDetailRow>
        <ng-template let-row="row" let-expanded="expanded" ngx-datatable-row-detail-template>
            <div style="padding-left:35px;">
                <div class="details">
                    <div><span class="details-group">{{'Releve.Releve' | translate}}</span>
                        <br/>
                        <span class="details-title">{{'Releve.ObsTechnique' | translate}}</span> : {{row.decoded_nomenclatures.obs_technique}}
                        <br/>
                        <span class="details-title">{{'Releve.Municipality' | translate}}</span> : {{row.municipalities.nom_com}} ({{row.id_municipality}})
                        <span class="details-title">{{'Releve.MinAltitude' | translate}}</span> : {{row.altitude_min}} -
                        <span class="details-title">{{'Releve.MaxAltitude' | translate}}</span> : {{row.altitude_max}}
                    </div>
                    <div><span class="details-group">{{'Taxon.Observation' | translate}}</span>
                        <br/>
                        <span class="details-title">{{'Taxon.ObsMethod' | translate}}</span> : {{row.decoded_nomenclatures.obs_meth}}
                        <span class="details-title">{{'Taxon.BiologicalCondition' | translate}}</span> : {{row.decoded_nomenclatures.bio_condition}}
                    </div>
                    <div><span class="details-group">{{'Counting.Counting' | translate}}</span>
                        <br/>
                        <span class="details-title">{{'Counting.Sex' | translate}}</span> : {{row.decoded_nomenclatures.sex}} -
                        <span class="details-title">{{'Counting.LifeStage' | translate}}</span> : {{row.decoded_nomenclatures.life_stage}} -
                        <br/> 
                        <span class="details-subtitle ">min</span> : {{row.count_min}}
                        <span class="details-subtitle ">max</span> : {{row.count_min}}
                        <span class="details-subtitle ">{{'Counting.CountingType' | translate}}</span> : {{row.decoded_nomenclatures.type_count}}
                        <span class="details-subtitle ">{{'Counting.CountingObject' | translate}}</span> : {{row.decoded_nomenclatures.obj_count}}
                    </div>
                </div>
            </div>
        </ng-template>
    </ngx-datatable-row-detail>

    <!-- ACTION COLUMNS 
    <ngx-datatable-column maxWidth="50">
        <ng-template let-row="row" ngx-datatable-cell-template>
            <button class="btn btn-secondary btn-no-padding" [disabled]="!row.rights.U" (click)="onEditReleve(row[mapListService.idName])">
                <i [ngClass]="{'disabled' : !row.rights.U}" matTooltip="{{'Releve.Edit' | translate}} {{row[mapListService.idName]}}" class="fa fa-pencil-square-o"
                    aria-hidden="true"></i>
            </button>
        </ng-template>
    </ngx-datatable-column>

    <ngx-datatable-column maxWidth="50">
        <ng-template let-row="row" ngx-datatable-cell-template>
            <button class="btn btn-secondary btn-no-padding" [disabled]="!row.rights.R" (click)="onDetailReleve(row[mapListService.idName])">
                <i [ngClass]="{'disabled' : !row.rights.R}" matTooltip="{{ 'Releve.Info' | translate }} {{row[mapListService.idName]}}" class="fa fa-info-circle"
                    aria-hidden="true"></i>
            </button>
        </ng-template>
    </ngx-datatable-column>

    <ngx-datatable-column maxWidth="50">
        <ng-template let-row="row" ngx-datatable-cell-template>
            <button class="btn btn-secondary btn-no-padding" [disabled]="!row.rights.D" (click)="openDeleteModal($event, modalConfirm, iElement, row)">
                <i [ngClass]="{'disabled' : !row.rights.D}" #iElement matTooltip="{{ 'Releve.Delete' | translate }} {{row[mapListService.idName]}}"
                    class="fa fa-trash-o" aria-hidden="true"></i>
            </button>
        </ng-template>
    </ngx-datatable-column>
    -->

    <!-- Column Templates -->
    <ngx-datatable-column [width]="50" [resizeable]="false" [sortable]="false" [draggable]="false" [canAutoResize]="false">
        <ng-template let-row="row" let-expanded="expanded" ngx-datatable-cell-template>
            <a href="javascript:void(0)" [class.datatable-icon-right]="!expanded" [class.datatable-icon-down]="expanded" title="DÃ©tail de l'observation"
                (click)="toggleExpandRow(row)">
            </a>
        </ng-template>
    </ngx-datatable-column>

    <!-- DATA COLOMNS -->
    <ngx-datatable-column *ngFor="let col of SYNTHESE_CONFIG.default_columns" [name]="col.name" [prop]="col.prop">
    </ngx-datatable-column>
</ngx-datatable>