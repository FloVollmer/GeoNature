<div class=form-containter>
  <div class="card">
    <div class="card-body">
        <h5 class="card-title"> <b>{{ 'Releve.Releve' | translate }}: </b></h5>
        <div [formGroup]="fs.releveForm">
          <pnx-observation
            [releveForm]="fs.releveForm  ">
          </pnx-observation>
        </div>
        <hr> 

      <!-- Occurrence taxon  -->
      <div [formGroup]="fs.occurrenceForm">
        <div class="section"> 
          <pnx-occurrence
            [occurrenceForm]="fs.occurrenceForm">
          </pnx-occurrence>
        </div>
          <b> {{ 'Counting.Counting' | translate }}: </b>
          <!-- COUNTING -->
          <div *ngFor="let counting of fs.nbCounting; let i = index">
            <pnx-counting 
              [formArray]="fs.countingForm"
              [index]="i"
              [length]="fs.nbCounting.length"
              (countingRemoved)="fs.removeCounting($event, countingForm)">
            </pnx-counting>
          </div>
          <button id="addOccurrence" type="button" class="btn btn-primary btn-sm" (click)="fs.addCounting(countingForm)">
            <i class="fa fa-plus-circle" aria-hidden="true"></i>          
          </button>

      </div>

      <md-card-actions class="card-action"> 
        <button class="btn btn-primary btn-sm "
          [disabled]="fs.occurrenceForm.invalid || fs.countingForm.invalid"
          (click)="fs.addOccurence(fs.indexOccurrence)">{{ 'Taxon.SaveTaxon' | translate }} {{fs.currentTaxon.lb_nom}} </button>
      </md-card-actions>

      <!-- <pre>form value: <br>{{fs.countingForm.value | json}}</pre> -->
      <!-- <pre>form value: <br>{{fs.occurrenceForm.value | json}}</pre> -->
      <!-- <pre>form value: <br>{{fs.releveForm.value | json}}</pre> -->



    <md-card-actions class="card-action"> <!--Btn Valider taxon-->
      <button class="btn btn-success" 
      [disabled]="(fs.releveForm.invalid || taxonsList == 0)"
      (click)="submitData()" >{{ 'Releve.SaveReleve' | translate }}</button>
    </md-card-actions> 
    </div>

  </div>
</div>




