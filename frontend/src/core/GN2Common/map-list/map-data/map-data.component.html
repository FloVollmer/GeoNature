
<md-card>
  <div class="row">
    <!--Filter-->
    <div class="input-group width-60 alignment-xs">
      <input type="text" class="form-control font-md" placeholder="Search" aria-label="Text input with dropdown button" 
      (keyup)='updateFilter($event)'>
      <div class="input-group-btn">
        <button type="button" class="btn btn-secondary dropdown-toggle font-md" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
          Par {{filterSelected | titlecase}}
        </button>
        <div class="dropdown-menu dropdown-menu-right">
          <a class="dropdown-item font-md" *ngFor="let list of filterList" (click)="onChangeFilterOps(list)">Par {{list | titlecase}}</a>
        </div>
      </div>
    </div>

    <!--Filter Avancé-->
      <button  md-icon-button mdTooltip="Filter options" class ="margin-left-md" data-toggle="collapse" data-target="#collapseAvance" aria-expanded="false" aria-controls="contexte">
        <md-icon>filter_list</md-icon>
      </button>
      <span class="spacer"> </span>
      <a href="/#/contact-form">
      <div class="offset-md-6"> </div>
        <button  mdTooltip="Ajouter un relevé" type="button" id="redirect" class="btn btn-success">
          <i class="fa fa-plus-circle" aria-hidden="true"></i>
        </button>
        </a>
      
    </div>
    <!--collapseAvance-->
  <div class="row">
      <div class="collapse width-100" id="collapseAvance">
        <div class="card card-block margin-top-md">
          ... filter avancé
        </div>
      </div>
  </div>

</md-card>

<!--Table-->
<ngx-datatable
  #table
  class="material striped margin-top-xs table-size expandable"
  [rows]="rows"
  [columns]="columns"
  [columnMode]="'force'"
  [headerHeight]="50"
  [scrollbarV]="true"
  [footerHeight]="50"
  [rowHeight]="50"
  [draggable]="false"
  [selected]="selected"
  [selectionType]="'multi'"
  (select)='onSelect($event)'>

    <!-- Row Detail Template -->
    <ngx-datatable-row-detail [rowHeight]="150" #myDetailRow (toggle)="onDetailToggle($event)">
      <ng-template let-row="row" let-expanded="expanded" ngx-datatable-row-detail-template>
          <div class="card card-block width-100">
            <div><strong>Taxon:</strong> {{row.taxon}}</div>
            <div><strong>Observer:</strong> {{row.observer}}</div>
            <div><strong>Date:</strong> {{row.date}}</div>
            <div><strong>Id:</strong> {{row.id}}</div>
          </div>
      </ng-template>
    </ngx-datatable-row-detail>

    <ngx-datatable-column
      [width]="50"
      [resizeable]="false"
      [sortable]="false"
      [draggable]="false"
      [canAutoResize]="false">
      <ng-template let-row="row" let-expanded="expanded" ngx-datatable-cell-template>
        <a
          [class.datatable-icon-right]="!expanded"
          [class.datatable-icon-down]="expanded"
          title="Expand/Collapse Row"
          (click)="toggleExpandRow(row)">
        </a>
      </ng-template>
    </ngx-datatable-column>

    <ngx-datatable-column name="Taxon">
      <ng-template let-value="value" ngx-datatable-cell-template>
        <p [mdTooltip]="value">{{value}}</p>
      </ng-template>
    </ngx-datatable-column>

    <ngx-datatable-column name="Observer">
      <ng-template let-value="value" ngx-datatable-cell-template>
        <p [mdTooltip]="value">{{value}}</p>
      </ng-template>
    </ngx-datatable-column>

    <ngx-datatable-column name="Date">
      <ng-template let-value="value" ngx-datatable-cell-template>
        <p [mdTooltip]="value">{{value}}</p>
      </ng-template>
    </ngx-datatable-column>

    <ngx-datatable-column>
      <ng-template let-row="row" ngx-datatable-cell-template> 
        <button type="button" class="btn btn-default btn-sm" mdTooltip="Edit relevé {{row.id}}">
          <i class="fa fa-pencil-square-o fa-lg" aria-hidden="true" (click)="onEditReleve(row.id)"></i>
        </button>
      </ng-template>
    </ngx-datatable-column>


</ngx-datatable>

<!--{{ rows | async | json }}-->

